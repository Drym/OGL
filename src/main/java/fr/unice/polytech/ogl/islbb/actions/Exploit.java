package fr.unice.polytech.ogl.islbb.actions;

import fr.unice.polytech.ogl.islbb.reports.Objective;
import org.json.JSONObject;

import java.util.ArrayList;
import java.util.List;

/**
 * Created by Ulysse on 04/03/15.
 * Classe permetant d'automatiser l'action exploiting pour l'explorer.
 */

public class Exploit {

    public static String exploit (String aResource) {
        JSONObject obj = new JSONObject();
        JSONObject resource = new JSONObject();
        resource.put("resource",aResource);

        obj.put("action", "exploit");
        obj.put("parameters",resource);
        return obj.toString();
    }

    public static String exploit (String aResource, String debug) {
        JSONObject obj = new JSONObject();
        JSONObject resource = new JSONObject();
        resource.put("resource",aResource);

        obj.put("action", "exploit");
        obj.put("parameters",resource);
        obj.put("debug", debug);
        return obj.toString();
    }
    /*
    met a jour le compteur de amount
     */
    /*
    public static List<Objective> updateAmount(List<Objective>objec,String res,int result){
    //    for(Objective  obj: objec){
    //        if(obj.getObjective().equals(res)){
    //            System.out.println(res+" "+obj.getObjective());
    //            Objective nouv=new Objective(obj.getObjective(),obj.getAmount()-result);
    //            obj.setAmount(obj.getAmount() - result);
    //            if(obj.getAmount()<=0){
    //                objec.remove(obj);
    //            }
    //        }
        int i;
        for(i=0;i<objec.size();i++){
            if(objec.get(i).getObjective().equals(res)){
                if(!objec.get(i).updateAmount(result)){
                    objec.remove(i);
                }
            }
        }
        return objec;
        }
    */
}
